@using AgiliFood2.Models
@model IEnumerable<Group<string, AgiliFood2.Models.Financial>>

@{
    ViewBag.Title = "Bills Report";
}

<h2>Grouping Bills by Employee</h2>

@using (Html.BeginForm())
{
    <div class="form-horizontal">
        <div class="form-group">
            <p>
                Start Date: @Html.Editor("StartDate", new { htmlAttributes = new { @class = "form-control", type = "date" } })
            </p>
            <p>
                End Date: @Html.Editor("EndDate", new { htmlAttributes = new { @class = "form-control", type = "date" } })
                <input type="submit" value="Search" />
            </p>
        </div>
    </div>
}

<table class="table">
    <tr>
        <th>
            Order_Number
        </th>
        <th>
            Order_Date
        </th>
        <th>
            Product
        </th>
        <th>
            Quantity
        </th>
        <th>
            Unit_Price
        </th>
        <th>
            Total_Product
        </th>
        <th></th>
    </tr>
    @foreach (var employee in Model)
    {
        <tr><th colspan="6" style="background-color: lightgray">@employee.Key</th></tr>
        foreach (var item in employee.Values)
        {
            <tr>
                <td>
                    @item.Order_Number
                </td>
                <th>
                    @item.Order_Date
                </th>
                <th>
                    @item.Product
                </th>
                <th>
                    @item.Quantity
                </th>
                <th>
                    @String.Format("{0:c}", item.Unit_Price)
                </th>
                <th>
                    @String.Format("{0:c}", item.Total_Product)
                </th>
            </tr>
        }
    }

</table>
